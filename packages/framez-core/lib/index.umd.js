(function (a, b) { typeof exports === 'object' && typeof module !== 'undefined' ? b(exports) : typeof define === 'function' && define.amd ? define(['exports'], b) : b(a.framez = a.framez || {}) })(this, function (a) { 'use strict'; function b (a) { function b () { window.cancelAnimationFrame(g), g = null } function d () { b(), i.resolve() } function e () { g = window.requestAnimationFrame(f) } function f (c) { a({now: c, play: e, pause: b, stop: d, started: h, finished: i}) } var g = null, h = c(), i = c(); return {play: e, stop: d, pause: b, started: h.promise, finished: i.promise} } var c = function () { var a = {}; return a.promise = new Promise(function (b, c) { a.resolve = b, a.reject = c }), a }, d = function (a) { return a }, e = function (a) { for (var b = [], c = arguments.length - 1; c-- > 0;)b[c] = arguments[c + 1]; return b.length === a.length ? a.apply(void 0, b) : e.bind.apply(e, [null, a].concat(b)) }, f = function (a) { return function (b) { return a.reduce(function (a, b) { return b(a) }, b) } }, g = e(function (a, b) { return a(b), b }), h = e(function (a, b) { return b != null && (b.constructor === a || b instanceof a) }), i = h(Function), j = h(Number), k = h(String), l = h(Array), m = {duration: 500, lastFrame: 1e3 / 60, direction: 'normal', loop: !1}, n = 1; a.animate = function () { for (var a = [], c = arguments.length; c--;)a[c] = arguments[c]; var d = b(f(a)); return d.play(), d }, a.engine = b, a.withEase = function (a) { return void 0 === a && (a = d), function (b) { return Object.assign({}, b, {progress: a(b.progress)}) } }, a.withTime = function (a) { void 0 === a && (a = {}); var b = Object.assign({}, m, j(a) ? {duration: a} : a), c = b.duration, d = b.lastFrame, e = b.direction, f = b.loop, g = b.iterations || (f ? Infinity : e === 'alternate' ? 2 : 1), h = 0, i = null, k = null, l = function (a, b) { return b ? n - a : a }; return function (a) { void 0 === a && (a = {}); var b = a.now, f = a.play, j = a.stop, m = a.started, o = i == null || k == null; o && (i = b, k = b + c, m.resolve()); var p = e === 'reverse' || e === 'alternate' && h % 2 != 0, q = b - i, r = k - b, s = r < d; if (s) { i = null, k = null; var t = h + 1; return t < g ? (h = t, f()) : (h = 0, j()), Object.assign({}, {elapsed: c, remain: 0, progress: l(n, p), duration: c, isReversed: p, isStart: o, isEnd: s}, a) } return f(), Object.assign({}, {progress: l(q / c, p), elapsed: q, remain: r, duration: c, isReversed: p, isStart: o, isEnd: s}, a) } }, Object.defineProperty(a, '__esModule', {value: !0}) })
// # sourceMappingURL=index.umd.js.map
