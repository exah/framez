(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(exports):'function'==typeof define&&define.amd?define(['exports'],b):b(a.framez=a.framez||{})})(this,function(a){'use strict';function b(a){function b(){window.cancelAnimationFrame(f),f=null}function c(){b(),h.resolve()}function d(){f=window.requestAnimationFrame(e)}function e(e){a({now:e,play:d,pause:b,stop:c,started:g,finished:h})}var f=null,g=i(),h=i();return{play:d,stop:c,pause:b,started:g.promise,finished:h.promise}}function c(){for(var a=arguments,c=[],d=arguments.length;d--;)c[d]=a[d];var e=b(l(c));return e.play(),e}function d(a){void 0===a&&(a={});var b=Object.assign({},u,q(a)?{duration:a}:a),c=b.duration,d=b.lastFrame,e=b.direction,f=b.loop,g=b.iterations||(f?Infinity:'alternate'===e?2:1),h=0,i=null,j=null,k=function(a,b){return b?v-a:a};return function(a){void 0===a&&(a={});var b=a.now,f=a.play,l=a.stop,m=a.started,n=null==i||null==j;n&&(i=b,j=b+c,m.resolve());var o='reverse'===e||'alternate'===e&&0!=h%2,p=b-i,q=j-b,r=q<d;if(r){i=null,j=null;var s=h+1;return s<g?(h=s,f()):(h=0,l()),Object.assign({},{elapsed:c,remain:0,progress:k(v,o),duration:c,isReversed:o,isStart:n,isEnd:r},a)}return f(),Object.assign({},{progress:k(p/c,o),elapsed:p,remain:q,duration:c,isReversed:o,isStart:n,isEnd:r},a)}}function e(a,b){void 0===a&&(a=0),void 0===b&&(b=0);var c=0,d=0;return function(b){if(b.isStart){var e=K(a),f=e[0];c=window.scrollY||window.pageYOffset,d=q(a)?a:null==f?0:f.getBoundingClientRect().top+c}var g=H(c,d,b.progress);return window.scrollTo(0,g),b}}var f=Math.sin,g=Math.PI,h=Math.pow,i=function(){var a={};return a.promise=new Promise(function(b,c){a.resolve=b,a.reject=c}),a},j=function(a){return a},k=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return b.length===a.length?a.apply(void 0,b):k.bind.apply(k,[null,a].concat(b))},l=function(a){return function(b){return a.reduce(function(a,b){return b(a)},b)}},m=k(function(a,b){return a(b),b}),n=function(a){return void 0===a&&(a=j),function(b){return Object.assign({},b,{progress:a(b.progress)})}},o=k(function(a,b){return null!=b&&(b.constructor===a||b instanceof a)}),p=o(Function),q=o(Number),r=o(String),s=o(Array),t=function(a){return[window.NodeList,window.HTMLCollection].some(function(b){return o(b,a)})},u={duration:500,lastFrame:1e3/60,direction:'normal',loop:!1},v=1,w=function(a){return void 0===a&&(a=2),function(b){return h(b,a)}},x=function(a){return void 0===a&&(a=2),function(b){return 1-Math.abs(h(b-1,a))}},y=function(a){return void 0===a&&(a=1),function(b){return 0===b||1===b?b:-h(2,10*(b-1))*f((b-1-1.5707963267948966*(a/(2*g)))*(2*g)/a)}},z=/([\d.]+)(\D+)?$/,A=/(\D+)$/,B=/scale|opacity/,C=/rotate|skew/,D=function(a){return parseFloat(a,10)},E=function(a){return(a+'').replace(z,'$2').trim()},F=function(a){return A.test(a)},G=k(function(a,b){return F(b)||B.test(a)?b:C.test(b)?b+'deg':b+'px'}),H=function(a,b,c){return(b-a)*c+a},I=function(a,b){var c=E(a)||E(b)||0,d=D(a),e=D(b);return function(a){return H(d,e,a)+c}},J=function(a,b){var c=Object.keys(b),d=c.reduce(function(c,d){return c[d]=I(a[d],b[d]),c},{});return function(a){return c.reduce(function(b,c){return b[c]=d[c](a),b},{})}},K=function(a){return null==a?[]:r(a)?Array.from(document.querySelectorAll(a)):t(a)?Array.from(a):a.nodeType?[a]:s(a)?a:p(a.get)?a.get():[]},L=function(a){return a.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase()},M=function(a,b){if(b in a.style)return window.getComputedStyle(a)[L(b)]||0},N=function(a,b,c){var d=G(b,c);return a.style[b]=d,d},O=function(a,b){var c=Object.keys(b).map(function(c){var d=b[c],e=I.apply(void 0,s(d)?d:[M(a,c),d]);return function(b){return N(a,c,e(b))}});return function(a){return c.map(function(b){return b(a)})}},P=function(a,b){var c=K(a),d=c.map(function(a){return O(a,b)});return function(a){return d.map(function(b){return b(a)})}};a.pipe=l,a.curry=k,a.name='framez',a.version='0.0.2',a.animate=c,a.engine=b,a.withEase=n,a.withTime=d,a.easeIn=w,a.easeInOut=function(a){return function(b){return 0.5>b?w(a)(2*b)/2:x(a)(2*b-1)/2+0.5}},a.easeInOutSin=function(a){return(1+f(g*a-g/2))/2},a.easeInSin=function(a){return 1+f(g/2*a-g/2)},a.easeOut=x,a.easeOutSin=function(a){return f(g/2*a)},a.elasticIn=y,a.elasticInOut=function(a){return function(b){return 0.5>b?y(a)(2*b)/2:1-y(a)(-2*b+2)/2}},a.elasticOut=function(a){return function(b){return 1-y(a)(1-b)}},a.newObject=function(a,b){var c=J(a,b);return function(b){return Object.assign({},b,{object:Object.assign({},a,c(b.progress))})}},a.number=function(a,b){return function(c){return Object.assign({},c,{number:H(a,b,c.progress)})}},a.scroll=e,a.unit=function(a,b){var c=I(a,b);return function(a){return Object.assign({},a,{unit:c(a.progress)})}},a.updateObject=function(a,b){var c=J(a,b);return function(b){return Object.assign({},b,{object:Object.assign(a,c(b.progress))})}},a.updateStyles=function(a,b){var c;return function(d){return(d.isStart||!p(c))&&(c=P(a,b)),Object.assign({},d,{updateStyles:c(d.progress)})}},a.jump=function(a,b){void 0===b&&(b={});var f=q(b)?{duration:b}:b,g=f.duration,h=f.easing,i=f.offset;return c(d(g),n(h),e(a,i))},Object.defineProperty(a,'__esModule',{value:!0})});
//# sourceMappingURL=index.umd.js.map
